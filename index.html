<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Satoku</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <link rel="stylesheet" href="beauty.css" />
    <link rel="stylesheet" href="compact.css" />
    <link rel="stylesheet" href="index.css" />

    <script src="satFormular.js"></script>
    <script src="3sat.js"></script>
    <script src="gameModel.js"></script>
    <script src="baseGameView.js"></script>
    <script src="compactGameView.js"></script>
    <script src="prettyGameView.js"></script>
    <script src="gameHandler.js"></script>
    <script>
      /* Set the width of the side navigation to 250px and the left margin of the page content to 250px */
      function openNav() {
        document.getElementById("puzzleSelector").style.width = "250px";
        document.getElementById("main").style.marginLeft = "250px";
      }

/* Set the width of the side navigation to 0 and the left margin of the page content to 0 */
function closeNav() {
  document.getElementById("puzzleSelector").style.width = "0";
  document.getElementById("main").style.marginLeft = "0";
}
function displayQuiz() {
  // Remove all content from puzzleBox
  let myNode = document.getElementById("puzzleBox");
  while (myNode.firstChild) {
    myNode.removeChild(myNode.firstChild);
  }

  let beautyRadioChecked = document.getElementById("beauty").checked == true;
  let compactRadioChecked = document.getElementById("compact").checked == true;
  let gameViewClass = []
  if (beautyRadioChecked){
    gameViewClass = PrettyGameView
  } else if (compactRadioChecked){
    gameViewClass = CompactGameView
  } else {
    alert("huh?")
  }

  let gameHandler = new GameHandler(myNode, gameViewClass, GameModel)
}

function toggleInvisDiv(activatedRadio){
  let radios = document.getElementsByName(activatedRadio.name);
  for (let i = 0; i < radios.length; ++i){
    let radioToggleDiv = document.getElementById(radios[i].id + "Inputs");
    if (radios[i].checked){
      if (radioToggleDiv !== null){
        let style = window.getComputedStyle(radioToggleDiv);
        radioToggleDiv.style.height = style.getPropertyValue('max-height');
      }
    } else {
      if (radioToggleDiv !== null){
        radioToggleDiv.style.height = 0;
      }
    }
  }
}
    </script>
  </head>
  <body onload="openNav()">
    <div id="puzzleSelector">
      <label class="fancyRadio">
        <input id="beauty" type="radio" name="DisplayMode" checked="checked">
        <span class="checkmark">Beautiful</span>
      </label>

      <label class="fancyRadio">
        <input id="compact" type="radio" name="DisplayMode">
        <span class="checkmark">Compact</span>
      </label>

      <label class="fancyRadio">
        <input id="fact" onchange="toggleInvisDiv(this)" type="radio" name="SatGenerator" checked="checked">
        <span class="checkmark">Factoring</span>
      </label>

      <label class="fancyRadio">
        <input id="rand" onchange="toggleInvisDiv(this)" type="radio" name="SatGenerator">
        <span class="checkmark">Random</span>
      </label>

      <label class="fancyRadio">
        <input id="add" onchange="toggleInvisDiv(this)" type="radio" name="SatGenerator">
        <span class="checkmark">Addition</span>
      </label>
      <div id="addInputs">
        <input id="additionNumber1" type="number"><br>
        <input id="additionNumber2" type="number">
      </div>

      <button onclick="closeNav();displayQuiz()">Generate</button>
      <button onclick="closeNav()">Abort</button>
    </div>
    <div id="main">
      <input type="button" onclick="openNav()" value="Generation Menu"><br>
      <div id="puzzleBox"></div><br>
      <div id="dimacsBox" style="display: none"></div>
    </div>
  </body>
</html>
